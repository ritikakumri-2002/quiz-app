/* Shell / Card */
.shell { width: 100%; padding: 24px; }
.card {
  max-width: 760px;
  margin: 0 auto;
  background: var(--card);
  color: var(--text);
  border-radius: 24px;
  padding: 28px 24px;
  box-shadow: 0 20px 60px rgba(0,0,0,.25);
  position: relative;
  overflow: hidden;
}
.card-float { animation: float 3s ease-in-out infinite; }
@keyframes float { 0%{transform: translateY(0)} 50%{transform: translateY(-6px)} 100%{transform: translateY(0)} }

.header .brand { font-size: 28px; font-weight: 700; display: flex; gap: 8px; align-items: center; }
.sparkle { filter: drop-shadow(0 0 10px rgba(255,255,255,.8)); }

.topbar { display: grid; grid-template-columns: 1fr auto; gap: 12px; align-items: center; margin-top: 12px; }

.timer {
  padding: 8px 12px; border-radius: 999px; background: #f1f5f9;
  font-weight: 600; color: #0f172a; min-width: 84px; text-align: center;
  transition: transform .2s ease;
}
.timer.panic { background: #ffe7e7; color: var(--red); transform: scale(1.05); }

/* Progress */
.progress {
  background: #eae7ff; border-radius: 999px; height: 14px; overflow: hidden; position: relative;
}
.bar {
  height: 100%;
  background: linear-gradient(90deg, var(--progress), #34d399);
  width: 0;
  display: grid; place-items: center;
  color: #1f2937; font-size: 12px; font-weight: 700;
  transition: width .45s cubic-bezier(.2,.7,.2,1);
}
.bar-label { mix-blend-mode: multiply; }

/* Question */
.q-wrap { margin-top: 18px; }
.q-meta { color: var(--muted); font-size: 14px; margin-bottom: 6px; }
.q-title { font-size: 22px; line-height: 1.35; margin-bottom: 18px; }

.options { list-style: none; display: grid; gap: 12px; }
.option {
  width: 100%; display: grid; grid-template-columns: 40px 1fr 36px; align-items: center; gap: 10px;
  border: 2px solid #e5e7eb; background: #f8fafc; color: #111827;
  padding: 14px 16px; border-radius: 16px; font-size: 16px; font-weight: 600;
  cursor: pointer; transition: transform .08s ease, background .2s ease, border .2s ease;
}
.option:hover { transform: translateY(-2px); background: #eef2ff; border-color: #c7d2fe; }
.option.selected { background: #e6fffa; border-color: #99f6e4; }
.option .index {
  width: 28px; height: 28px; border-radius: 8px; display: grid; place-items: center; background: #e2e8f0; font-weight: 700;
}
.option.selected .index { background: #bbf7d0; }
.option .emoji { justify-self: end; }

.actions { margin-top: 16px; display: flex; justify-content: flex-end; }
.next, .restart {
  background: var(--accent); color: white; border: none; border-radius: 14px; padding: 12px 18px;
  font-weight: 700; cursor: pointer; transition: transform .08s ease, box-shadow .2s ease, opacity .2s;
  box-shadow: 0 10px 20px rgba(255,122,89,.35);
}
.next:disabled { opacity: .55; cursor: not-allowed; }
.next:not(:disabled):hover, .restart:hover { transform: translateY(-2px); }
.restart { background: #8b5cf6; box-shadow: 0 10px 20px rgba(139,92,246,.35); }

/* Result */
.result .score { font-size: 24px; margin-bottom: 6px; text-align: center; }
.result .big { font-size: 34px; color: var(--green); }
.highscore { text-align: center; color: var(--muted); margin-bottom: 14px; }

.review { list-style: none; display: grid; gap: 10px; margin-top: 10px; }
.review-item { border-radius: 16px; padding: 12px 14px; border: 1px solid #e5e7eb; background: #f8fafc; }
.review-item.ok { border-color: #bbf7d0; background: #f0fdf4; }
.review-item.bad { border-color: #fecaca; background: #fff1f2; }
.review-q { font-weight: 700; margin-bottom: 6px; }
.review-a { color: #111827; }
.timeout { color: var(--red); font-weight: 700; }

/* Enter/transition animation */
.enter { animation: fadeUp .35s ease both; }
@keyframes fadeUp {
  from { opacity: 0; transform: translateY(12px) scale(.98); }
  to   { opacity: 1; transform: translateY(0) scale(1); }
}

/* Confetti (simple CSS sprinkles) */
.confetti { pointer-events: none; position: absolute; inset: 0; overflow: hidden; }
.confetti span {
  position: absolute; top: -10%; width: 10px; height: 14px; background: white; opacity: .9;
  animation: drop 2.4s linear infinite; transform: rotate(15deg);
}
.confetti span:nth-child(odd){ background: #fbbf24; }      /* amber */
.confetti span:nth-child(3n){ background: #34d399; }       /* green */
.confetti span:nth-child(5n){ background: #60a5fa; }       /* blue */
.confetti span:nth-child(7n){ background: #f472b6; }       /* pink */
@keyframes drop {
  0% { transform: translateY(-20vh) rotate(0deg); left: 10%; }
  100% { transform: translateY(120vh) rotate(360deg); left: 90%; }
}
.confetti span:nth-child(1){ left:5%; animation-delay: .0s; }
.confetti span:nth-child(2){ left:15%; animation-delay: .1s; }
.confetti span:nth-child(3){ left:25%; animation-delay: .2s; }
.confetti span:nth-child(4){ left:35%; animation-delay: .1s; }
.confetti span:nth-child(5){ left:45%; animation-delay: .3s; }
.confetti span:nth-child(6){ left:55%; animation-delay: .05s; }
.confetti span:nth-child(7){ left:65%; animation-delay: .15s; }
.confetti span:nth-child(8){ left:75%; animation-delay: .25s; }
.confetti span:nth-child(9){ left:85%; animation-delay: .18s; }
.confetti span:nth-child(10){ left:50%; animation-delay: .12s; }

/* Footer */
.footer { margin-top: 12px; text-align: center; color: #eaeaea; opacity: .9; font-size: 13px; }
